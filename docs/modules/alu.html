

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arithmetic Logic Unit &mdash; Eight Bit Computer  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Language" href="../language/index.html" />
    <link rel="prev" title="Control Unit" href="control_unit.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Eight Bit Computer
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="register.html">Register</a></li>
<li class="toctree-l2"><a class="reference internal" href="two_to_one.html">2:1 Selector</a></li>
<li class="toctree-l2"><a class="reference internal" href="program_counter.html">Program Counter</a></li>
<li class="toctree-l2"><a class="reference internal" href="clock.html">Clock</a></li>
<li class="toctree-l2"><a class="reference internal" href="ram.html">RAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="control_unit.html">Control Unit</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Arithmetic Logic Unit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interface-and-operation">Interface and Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementation">Implementation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../language/index.html">Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development_tools.html">Development Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Eight Bit Computer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Modules</a> &raquo;</li>
        
      <li>Arithmetic Logic Unit</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/alu.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="arithmetic-logic-unit">
<h1>Arithmetic Logic Unit<a class="headerlink" href="#arithmetic-logic-unit" title="Permalink to this headline">¶</a></h1>
<p>The Arithmetic Logic Unit (ALU) performs arithmetical and logical operations
using one or both of it’s inputs. The result is stored internally when desired
and the value of that internal storage is also output when desired.</p>
<p>As well as calculating the result, pieces of information (flags) about the
result or the two inputs are also stored internally when desired and the state
of that internal storage is always output.</p>
<div class="section" id="interface-and-operation">
<h2>Interface and Operation<a class="headerlink" href="#interface-and-operation" title="Permalink to this headline">¶</a></h2>
<p>This is the interface of the ALU:</p>
<img alt="../_images/alu_block.png" src="../_images/alu_block.png" />
<p>This is how it operates:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="7%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Bit width</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>carry_in</td>
<td>1</td>
<td>If high, supply a carry in to the arithmetical operation. For subtraction operations this becomes an active low borrow_in.</td>
</tr>
<tr class="row-odd"><td>M</td>
<td>1</td>
<td>Choose between arithmetical and logical operations.</td>
</tr>
<tr class="row-even"><td>S0-3</td>
<td>4</td>
<td>Specify which arithmetical or logical operation.</td>
</tr>
<tr class="row-odd"><td>store_result</td>
<td>1</td>
<td>While high, the result of the operation will be stored internally on a rising clock egde.</td>
</tr>
<tr class="row-even"><td>store_flags</td>
<td>1</td>
<td>While high, flags resulting from the current operation/inputs/result will be stored internally on a rising clock egde.</td>
</tr>
<tr class="row-odd"><td>output_stored_result</td>
<td>1</td>
<td>Assert the value of the stored result onto the result_stored connection.</td>
</tr>
<tr class="row-even"><td>clock</td>
<td>1</td>
<td>A rising edge triggers result and flag storage if enabled.</td>
</tr>
<tr class="row-odd"><td>A</td>
<td>8</td>
<td>The A input to the operation.</td>
</tr>
<tr class="row-even"><td>B</td>
<td>8</td>
<td>The B input to the operation.</td>
</tr>
<tr class="row-odd"><td>result_live</td>
<td>8</td>
<td>The result of the current operation with the current inputs.</td>
</tr>
<tr class="row-even"><td>result_stored</td>
<td>8</td>
<td>The value of the stored result while output_stored_result is high, not connected otherwise.</td>
</tr>
<tr class="row-odd"><td>flags_live</td>
<td>4</td>
<td>Flags resulting from the current operation/inputs/result.</td>
</tr>
<tr class="row-even"><td>flags_stored</td>
<td>4</td>
<td>The value of the stored flags.</td>
</tr>
</tbody>
</table>
<p>carry_in, M, and S0-3 are used to select from the available operations (from the <a class="reference external" href="http://www.ti.com/lit/ds/symlink/sn54ls181.pdf">datasheet</a>).:</p>
<a class="reference internal image-reference" href="../_images/operation_select.jpg"><img alt="../_images/operation_select.jpg" src="../_images/operation_select.jpg" style="width: 100%;" /></a>
<p>Not all of the operations are available for use in the computer, see the
<a class="reference internal" href="../language/index.html#language"><span class="std std-ref">Language</span></a> section for more details on which are available.</p>
<p>The output flags are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>zero</td>
<td>The output of the ALU is zero (All bits 0)</td>
</tr>
<tr class="row-odd"><td>negative</td>
<td>The output of the ALU is negative (when the 8 bits are read in 2’s compliment form. Also the same as the most significant bit being 1)</td>
</tr>
<tr class="row-even"><td>carry_borrow</td>
<td>If the operation was an addition and the value is high, there was a carry bit, if low, no carry. If the operation was a subtraction and the value is low, there was a borrow, if high, no borrow.</td>
</tr>
<tr class="row-odd"><td>equality</td>
<td>When the ALU is in the appropriate mode, this flag indicates the A and B inputs are equal.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>The logical arrangement of the ALU is like this:</p>
<a class="reference internal image-reference" href="../_images/alu_logic_layout.png"><img alt="../_images/alu_logic_layout.png" src="../_images/alu_logic_layout.png" style="width: 100%;" /></a>
<p>A <a class="reference internal" href="../hardware/safe_clock_enable.html#safe-clock-enable"><span class="std std-ref">Safe Clock Enable</span></a> circuit is only required in the <a class="reference internal" href="../development_tools.html#logisim"><span class="std std-ref">Logisim</span></a>
version. It’s natively implemented in the 74HCT377 and 74HCT173 chips.</p>
<p>OR gates are used to OR all the bits together and then the result inverted to
calculate the zero flag.</p>
<p>The most significant bit of the output is the negative flag.</p>
<p>The carry_borrow flag and the equality flag are output from the ALU (the
carryborrow flag is inverted).</p>
<p>The following electronics are used:</p>
<blockquote>
<div><ul class="simple">
<li>2 x 74LS181 are used for the arithmetic and logic operations.</li>
<li>A 74CHT00 is used to AND the two A=B outputs and invert carry_borrow_out.</li>
<li>A 74HCT173 is used to store the flags.</li>
<li>2 x 74HCT32s are used to OR all the bits to check if it’s zero.</li>
<li>A 74HCT04 is used to invert the result of the OR zero check, the store_flags
control signal and the carry_borrow input signal.</li>
<li>A 74HCT245 is used to provide tri-state buffering for result_stored to go
onto the bus.</li>
<li>A 74HCT377 stores the result of the operation from result_live.</li>
<li>Another 74HCT04 is used to invert the store_result and
output_stored_result signals as this inputs are active low.</li>
</ul>
</div></blockquote>
<p>The ALU resides on three breadboards. From top to bottom:</p>
<blockquote>
<div><ul class="simple">
<li>ALU chips</li>
<li>Zero checking and flag storage</li>
<li>Result storage and output</li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="../_images/alu_bb.png"><img alt="../_images/alu_bb.png" src="../_images/alu_bb.png" style="width: 100%;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../language/index.html" class="btn btn-neutral float-right" title="Language" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="control_unit.html" class="btn btn-neutral float-left" title="Control Unit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Andy Palmer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>